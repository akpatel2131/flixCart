{"ast":null,"code":"var _jsxFileName = \"/Users/krunal/Desktop/Crio project/Fullstack/Flix-cart/Frontend/src/components/Checkout.js\";\nimport { Button, message, Radio, Row, Col } from \"antd\";\nimport TextArea from \"antd/lib/input/TextArea\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { config } from \"../App\";\nimport Cart from \"./Cart\";\nimport \"./Checkout.css\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\n\n/**\n * @typedef {Object} Product\n * @property {string} name - The name or title of the product\n * @property {string} category - The category that the product belongs to\n * @property {number} cost - The price to buy the product\n * @property {number} rating - The aggregate rating of the product (integer out of five)\n * @property {string} image - Contains URL for the product image\n * @property {string} _id - Unique ID for the product\n */\n\n/**\n * @typedef {Object} Address\n * @property {string} _id - Unique ID for the address\n * @property {string} address - Full address string\n */\n\nconst Checkout = () => {\n  const cartRef = useRef();\n  const history = useHistory();\n  const [products, setProducts] = useState([]);\n  const [address, setAddress] = useState(\"\");\n  const [selectedAddressIndex, setSelectedAddressIndex] = useState(0);\n  const [newAddress, setNewAddress] = useState(\"\");\n  const [balance, setBalance] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const validateGetProductsResponse = (errored, response) => {\n    if (errored || !response.length && !response.message) {\n      message.error(\"Could not fetch products. Check that the backend is running, reachable and returns valid JSON.\");\n      return false;\n    }\n    if (!response.length) {\n      message.error(response.message || \"No products found in database\");\n      return false;\n    }\n    return true;\n  };\n  const getProducts = async () => {\n    let response = {};\n    let errored = false;\n    setLoading(true);\n    try {\n      response = await (await fetch(`${config.endpoint}/products`)).json();\n    } catch (e) {\n      errored = true;\n    }\n    setLoading(false);\n    if (validateGetProductsResponse(errored, response)) {\n      if (response) {\n        setProducts(response);\n      }\n    }\n  };\n  const validateResponse = (errored, response, couldNot) => {\n    if (errored) {\n      message.error(`Could not ${couldNot}. Check that the backend is running, reachable and returns valid JSON.`);\n      return false;\n    }\n    if (response.message) {\n      message.error(response.message);\n      return false;\n    }\n    return true;\n  };\n  const getAddresses = async () => {\n    let response = {};\n    let errored = false;\n    setLoading(true);\n    try {\n      response = await (await fetch(`${config.endpoint}/users/${localStorage.getItem(\"userId\")}?q=address`, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      })).json();\n    } catch (e) {\n      errored = true;\n    }\n    setLoading(false);\n    if (validateResponse(errored, response, \"fetch addresses\")) {\n      if (response) {\n        setAddress(response.address !== \"ADDRESS_NOT_SET\" ? response.address : \"\");\n      }\n    }\n  };\n  const addAddress = async () => {\n    let response = {};\n    let errored = false;\n    setLoading(true);\n    try {\n      response = await (await fetch(`${config.endpoint}/users/${localStorage.getItem(\"userId\")}?q=address`, {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          address: newAddress\n        })\n      })).json();\n    } catch (e) {\n      errored = true;\n    }\n    setLoading(false);\n    if (validateResponse(errored, response, \"add a new address\")) {\n      if (response) {\n        message.success(\"Address added\");\n        setNewAddress(\"\");\n        await getAddresses();\n      }\n    }\n  };\n  const deleteAddress = async addressId => {\n    let response = {};\n    let errored = false;\n    setLoading(true);\n    try {\n      response = await (await fetch(`${config.endpoint}/user/addresses/${addressId}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      })).json();\n    } catch (e) {\n      errored = true;\n    }\n    setLoading(false);\n    if (validateResponse(errored, response, \"delete address\")) {\n      if (response) {\n        message.success(\"Address deleted\");\n        await getAddresses();\n      }\n    }\n  };\n  const checkout = async () => {\n    let response = {};\n    let errored = false;\n    setLoading(true);\n    try {\n      response = await fetch(`${config.endpoint}/cart/checkout`, {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    } catch (e) {\n      errored = true;\n      console.log(e);\n    }\n    setLoading(false);\n    let data;\n    if (response.status !== 204) {\n      data = await response.json();\n    }\n    if (response.status === 204 || validateResponse(errored, data)) {\n      message.success(\"Order placed\");\n      console.log(cartRef.current.calculateTotal());\n      localStorage.setItem(\"balance\", parseInt(localStorage.getItem(\"balance\")) - cartRef.current.calculateTotal());\n      history.push(\"/thanks\");\n    }\n  };\n  const order = () => {\n    checkout();\n  };\n  useEffect(() => {\n    const initialize = async () => {\n      if (localStorage.getItem(\"username\") && localStorage.getItem(\"token\")) {\n        await getProducts();\n        await getAddresses();\n        setBalance(localStorage.getItem(\"balance\"));\n      } else {\n        message.error(\"You must be logged in to visit the checkout page\");\n        history.push(\"/\");\n      }\n    };\n    initialize();\n  }, [history]);\n  const radioStyle = {\n    display: \"block\",\n    height: \"30px\",\n    lineHeight: \"30px\"\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    history: history,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: {\n      span: 24,\n      order: 2\n    },\n    xl: {\n      span: 18,\n      order: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-shipping\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      marginBottom: \"-10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 15\n    }\n  }, \"Shipping\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 15\n    }\n  }, \"Shipping Address\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"address-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 15\n    }\n  }, address.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"address-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"address-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 21\n    }\n  }, address)) :\n  /*#__PURE__*/\n  // Display static text banner if no addresses are added\n  React.createElement(\"div\", {\n    className: \"red-text checkout-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 19\n    }\n  }, \"No addresses found. Please add one to proceed.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    className: \"new-address\",\n    placeholder: address ? \"Update Address\" : \"Add new address\",\n    rows: 4,\n    value: newAddress,\n    onChange: e => setNewAddress(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: addAddress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 21\n    }\n  }, address ? \"Update Address\" : \"Add new address\")))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      marginBottom: \"-10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 17\n    }\n  }, \"Pricing\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 17\n    }\n  }, \"Payment Method\"), /*#__PURE__*/React.createElement(Radio.Group, {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Radio, {\n    style: radioStyle,\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 19\n    }\n  }, \"Wallet\", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 21\n    }\n  }, \" (\\u20B9\", balance, \" available)\")))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"ant-btn-success\",\n    loading: loading,\n    type: \"primary\",\n    onClick: order,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 15\n    }\n  }, \"PLACE ORDER\"))), /*#__PURE__*/React.createElement(Col, {\n    xs: {\n      span: 24,\n      order: 1\n    },\n    xl: {\n      span: 6,\n      order: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Cart, {\n    ref: cartRef,\n    isReadOnly: true,\n    products: products,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }\n  }));\n};\nexport default Checkout;","map":{"version":3,"names":["Button","message","Radio","Row","Col","TextArea","React","useState","useEffect","useRef","useHistory","config","Cart","Footer","Header","Checkout","cartRef","history","products","setProducts","address","setAddress","selectedAddressIndex","setSelectedAddressIndex","newAddress","setNewAddress","balance","setBalance","loading","setLoading","validateGetProductsResponse","errored","response","length","error","getProducts","fetch","endpoint","json","e","validateResponse","couldNot","getAddresses","localStorage","getItem","method","headers","Authorization","addAddress","body","JSON","stringify","success","deleteAddress","addressId","checkout","console","log","data","status","current","calculateTotal","setItem","parseInt","push","order","initialize","radioStyle","display","height","lineHeight","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","xs","span","xl","style","marginBottom","placeholder","rows","value","onChange","target","type","onClick","Group","ref","isReadOnly"],"sources":["/Users/krunal/Desktop/Crio project/Fullstack/Flix-cart/Frontend/src/components/Checkout.js"],"sourcesContent":["import { Button, message, Radio, Row, Col } from \"antd\";\nimport TextArea from \"antd/lib/input/TextArea\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { config } from \"../App\";\nimport Cart from \"./Cart\";\nimport \"./Checkout.css\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\n\n/**\n * @typedef {Object} Product\n * @property {string} name - The name or title of the product\n * @property {string} category - The category that the product belongs to\n * @property {number} cost - The price to buy the product\n * @property {number} rating - The aggregate rating of the product (integer out of five)\n * @property {string} image - Contains URL for the product image\n * @property {string} _id - Unique ID for the product\n */\n\n/**\n * @typedef {Object} Address\n * @property {string} _id - Unique ID for the address\n * @property {string} address - Full address string\n */\n\nconst Checkout = () => {\n  const cartRef = useRef();\n  const history = useHistory();\n\n  const [products, setProducts] = useState([]);\n  const [address, setAddress] = useState(\"\");\n  const [selectedAddressIndex, setSelectedAddressIndex] = useState(0);\n  const [newAddress, setNewAddress] = useState(\"\");\n  const [balance, setBalance] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  const validateGetProductsResponse = (errored, response) => {\n    if (errored || (!response.length && !response.message)) {\n      message.error(\n        \"Could not fetch products. Check that the backend is running, reachable and returns valid JSON.\"\n      );\n      return false;\n    }\n\n    if (!response.length) {\n      message.error(response.message || \"No products found in database\");\n      return false;\n    }\n\n    return true;\n  };\n\n  const getProducts = async () => {\n    let response = {};\n    let errored = false;\n\n    setLoading(true);\n\n    try {\n      response = await (await fetch(`${config.endpoint}/products`)).json();\n    } catch (e) {\n      errored = true;\n    }\n\n    setLoading(false);\n\n    if (validateGetProductsResponse(errored, response)) {\n      if (response) {\n        setProducts(response);\n      }\n    }\n  };\n\n  const validateResponse = (errored, response, couldNot) => {\n    if (errored) {\n      message.error(\n        `Could not ${couldNot}. Check that the backend is running, reachable and returns valid JSON.`\n      );\n      return false;\n    }\n    if (response.message) {\n      message.error(response.message);\n      return false;\n    }\n    return true;\n  };\n\n  const getAddresses = async () => {\n    let response = {};\n    let errored = false;\n\n    setLoading(true);\n\n    try {\n      response = await (\n        await fetch(\n          `${config.endpoint}/users/${localStorage.getItem(\n            \"userId\"\n          )}?q=address`,\n          {\n            method: \"GET\",\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            },\n          }\n        )\n      ).json();\n    } catch (e) {\n      errored = true;\n    }\n\n    setLoading(false);\n\n    if (validateResponse(errored, response, \"fetch addresses\")) {\n      if (response) {\n        setAddress(\n          response.address !== \"ADDRESS_NOT_SET\" ? response.address : \"\"\n        );\n      }\n    }\n  };\n\n  const addAddress = async () => {\n    let response = {};\n    let errored = false;\n\n    setLoading(true);\n\n    try {\n      response = await (\n        await fetch(\n          `${config.endpoint}/users/${localStorage.getItem(\n            \"userId\"\n          )}?q=address`,\n          {\n            method: \"PUT\",\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              address: newAddress,\n            }),\n          }\n        )\n      ).json();\n    } catch (e) {\n      errored = true;\n    }\n\n    setLoading(false);\n\n    if (validateResponse(errored, response, \"add a new address\")) {\n      if (response) {\n        message.success(\"Address added\");\n\n        setNewAddress(\"\");\n\n        await getAddresses();\n      }\n    }\n  };\n\n  const deleteAddress = async (addressId) => {\n    let response = {};\n    let errored = false;\n\n    setLoading(true);\n\n    try {\n      response = await (\n        await fetch(`${config.endpoint}/user/addresses/${addressId}`, {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        })\n      ).json();\n    } catch (e) {\n      errored = true;\n    }\n\n    setLoading(false);\n\n    if (validateResponse(errored, response, \"delete address\")) {\n      if (response) {\n        message.success(\"Address deleted\");\n\n        await getAddresses();\n      }\n    }\n  };\n\n  const checkout = async () => {\n    let response = {};\n    let errored = false;\n\n    setLoading(true);\n\n    try {\n      response = await fetch(`${config.endpoint}/cart/checkout`, {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          \"Content-Type\": \"application/json\",\n        },\n      });\n    } catch (e) {\n      errored = true;\n      console.log(e);\n    }\n\n    setLoading(false);\n\n    let data;\n    if (response.status !== 204) {\n      data = await response.json();\n    }\n    if (response.status === 204 || validateResponse(errored, data)) {\n      message.success(\"Order placed\");\n\n      console.log(cartRef.current.calculateTotal());\n      localStorage.setItem(\n        \"balance\",\n        parseInt(localStorage.getItem(\"balance\")) -\n          cartRef.current.calculateTotal()\n      );\n\n      history.push(\"/thanks\");\n    }\n  };\n\n  const order = () => {\n    checkout();\n  };\n\n  useEffect(() => {\n    const initialize = async () => {\n      if (localStorage.getItem(\"username\") && localStorage.getItem(\"token\")) {\n        await getProducts();\n        await getAddresses();\n\n        setBalance(localStorage.getItem(\"balance\"));\n      } else {\n        message.error(\"You must be logged in to visit the checkout page\");\n        history.push(\"/\");\n      }\n    };\n\n    initialize();\n  }, [history]);\n\n  const radioStyle = {\n    display: \"block\",\n    height: \"30px\",\n    lineHeight: \"30px\",\n  };\n\n  return (\n    <>\n      {/* Display Header */}\n      <Header history={history} />\n\n      {/* Display Checkout page content */}\n      <div className=\"checkout-container\">\n        <Row>\n          {/* Display checkout instructions */}\n          <Col xs={{ span: 24, order: 2 }} xl={{ span: 18, order: 1 }}>\n            <div className=\"checkout-shipping\">\n              <h1 style={{ marginBottom: \"-10px\" }}>Shipping</h1>\n\n              <hr />\n              <br />\n\n              <p>Shipping Address</p>\n\n              {/* Display the \"Shipping\" section */}\n              <div className=\"address-section\">\n                {address.length ? (\n                  <div className=\"address-box\">\n                    {/* Display address title */}\n                    <div className=\"address-text\">{address}</div>\n\n                    {/* Display button to delete address from user's list */}\n                    {/* <Button\n                      type=\"primary\"\n                      onClick={async () => {\n                        await deleteAddress(address._id);\n                      }}\n                    >\n                      Delete\n                    </Button> */}\n                  </div>\n                ) : (\n                  // Display static text banner if no addresses are added\n                  <div className=\"red-text checkout-row\">\n                    No addresses found. Please add one to proceed.\n                  </div>\n                )}\n\n                <div className=\"checkout-row\">\n                  {/* Text input field to type a new address */}\n                  <div>\n                    <TextArea\n                      className=\"new-address\"\n                      placeholder={\n                        address ? \"Update Address\" : \"Add new address\"\n                      }\n                      rows={4}\n                      value={newAddress}\n                      onChange={(e) => setNewAddress(e.target.value)}\n                    />\n                  </div>\n\n                  {/* Button to submit address added */}\n                  <div>\n                    <Button type=\"primary\" onClick={addAddress}>\n                      {address ? \"Update Address\" : \"Add new address\"}\n                    </Button>\n                  </div>\n                </div>\n              </div>\n\n              <br />\n\n              {/* Display the \"Pricing\" section */}\n              <div>\n                <h1 style={{ marginBottom: \"-10px\" }}>Pricing</h1>\n\n                <hr />\n\n                <h2>Payment Method</h2>\n\n                <Radio.Group value={1}>\n                  <Radio style={radioStyle} value={1}>\n                    Wallet\n                    <strong> (â‚¹{balance} available)</strong>\n                  </Radio>\n                </Radio.Group>\n              </div>\n\n              <br />\n\n              {/* Button to confirm order */}\n              <Button\n                className=\"ant-btn-success\"\n                loading={loading}\n                type=\"primary\"\n                onClick={order}\n              >\n                PLACE ORDER\n              </Button>\n            </div>\n          </Col>\n\n          {/* Display cart */}\n          <Col xs={{ span: 24, order: 1 }} xl={{ span: 6, order: 2 }}>\n            <div className=\"checkout-cart\">\n              <Cart ref={cartRef} isReadOnly products={products} />\n            </div>\n          </Col>\n        </Row>\n      </div>\n\n      {/* Display Footer */}\n      <Footer />\n    </>\n  );\n};\n\nexport default Checkout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}